# Git分支与相关操作

Git 的分支，其实本质上仅仅是指向提交对象的可变指针。 Git 的默认分支名字是 master。 在多次提交操作之后，你其实已经有一个指向最后那个提交对象的 master 分支。 它会在每次的提交操作中自动向前移动。

**Note** ：
>Git 的 “master” 分支并不是一个特殊分支。 它就跟其它分支完全没有区别。 之所以几乎每一个仓库都有 master 分支，是因为 git init 命令默认创建它，并且大多数人都懒得去改动它。

**分支创建**  
使用命令` git branch branchname`即可实现

**分支切换**  
使用命令`git checkout branchname`  
**Note**：分支切换会改变你工作目录中的文件。在切换分支时，一定要注意你工作目录里的文件会被改变。 如果是切换到一个较旧的分支，你的工作目录会恢复到该分支最后一次提交时的样子。 如果 Git 不能干净利落地完成这个任务，它将禁止切换分支。


`git checkout -b newBranchName`  创建一个新分支newBranchName并切换到该分支

**查看项目分叉历史**

`git log --oneline --decorate --graph --all`

**分支的合并**  
假设需要合并`newBranchName`分支到`master`分支，这时候需要两步：
1. 检出到`master`分支，命令`git checkout master`
2. 将`newBranchName`分支合并到`master`分支，命令`git merge newBranchName`


**遇到冲突时的分支合并**  
有时候合并操作不会如此顺利。 如果你在两个不同的分支中，对同一个文件的同一个部分进行了不同的修改，Git 就没法干净的合并它们。这时候Git合并的时候会产生冲突， Git 做了合并，但是没有自动地创建一个新的合并提交。 Git 会暂停下来，等待你去解决合并产生的冲突。 你可以在合并冲突后的任意时刻使用 git status 命令来查看那些因包含合并冲突而处于未合并 （unmerged）状态的文件。

任何因包含合并冲突而有待解决的文件，都会以未合并状态标识出来。 Git 会在有冲突的文件中加入标准的冲突解决标记，这样你可以打开这些包含冲突的文件然后手动解决冲突。 出现冲突的文件会包含一些特殊区段，用======将两个冲突版本的内容进行分割。

此时你需要你需要手动修改冲突部分的内容，然后对每个文件用`git add`命令将其标记为冲突已解决。

也可以使用图形化工具`git mergetool`来解决这些冲突。[见后文](todo)

**分支的删除**  
已经合并进来的分支可能已经没有用处了，所以就可以删掉了，命令为`git branch -d newBranchName`

**显示分支列表**  
`git branch` 命令不加任何参数会显示当前所有分支的列表，并且再当前所在分支前面加一个`*`号


**其他一下常用的分支操作命令**
* `git branch -v ` 查看每一个分支的最后一次提交  
* ` git branch --merged` 查看哪些分支已经合并到当前分支
* `git branch --no-merged` 查看所有包含未合并工作的分支


